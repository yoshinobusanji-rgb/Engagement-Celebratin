<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ã”å©šç´„ãŠã‚ã§ã¨ã† â€” Celebration for Okada-san</title>
<style>
  :root{
    --bg0:#0b0f17; --bg1:#121827; --txt:#e6f1ff; --sub:#a9b8d6;
    --accent:#7dd3fc; --accent2:#c084fc; --accent3:#f472b6; --gold:#ffd166;
    --shadow:0 20px 60px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    background:radial-gradient(1200px 800px at 80% -10%,rgba(125,211,252,.15),transparent),
               radial-gradient(1000px 600px at -10% 90%,rgba(192,132,252,.12),transparent),
               linear-gradient(180deg,var(--bg0),var(--bg1));
    color:var(--txt); font-family:'Inter','Noto Sans JP',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; overflow-x:hidden;
  }
  .wrap{min-height:100dvh; display:grid; grid-template-rows:auto 1fr auto}
  header{padding:24px clamp(16px,3vw,36px); display:flex; align-items:center; justify-content:space-between}
  .brand{display:flex;gap:12px; align-items:center}
  .logo{width:36px;height:36px;border-radius:10px; background:conic-gradient(from 210deg,var(--accent2),var(--accent),var(--accent3),var(--accent2)); box-shadow:var(--shadow)}
  header h1{margin:0;font-size:clamp(18px,2.4vw,22px); letter-spacing:.06em; font-weight:700; color:var(--sub)}
  .controls{display:flex;gap:10px; align-items:center}
  button{appearance:none; border:none; background:linear-gradient(90deg,var(--accent3),var(--gold),var(--accent2)); color:#000; padding:14px 20px; border-radius:18px; font-weight:900; letter-spacing:.05em; cursor:pointer; box-shadow:0 0 25px rgba(255,209,102,.5); transition:transform .18s ease, box-shadow .18s ease}
  button:hover{transform:scale(1.1); box-shadow:0 0 40px rgba(255,255,255,.6)}
  button:active{transform:scale(.98)}

  main{display:grid; place-items:center; padding:clamp(18px,3vw,32px)}
  .hero{text-align:center; padding:clamp(20px,3vw,40px)}
  .line1{font-size:clamp(14px,1.8vw,18px); color:var(--sub); letter-spacing:.25em}
  .name{display:inline-block; margin-top:10px; font-size:clamp(40px,9vw,108px); font-weight:900; line-height:1.05; letter-spacing:.02em; background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3),var(--gold),var(--accent)); background-size:200% 100%; -webkit-background-clip:text; background-clip:text; color:transparent; animation:shine 8s linear infinite}
  @keyframes shine{to{background-position:200% 0}}
  .line2{margin-top:10px; font-size:clamp(18px,2.6vw,28px); color:#dbeafe; opacity:.95}
  .typer{display:inline-block; border-right:2px solid var(--gold); padding-right:6px}
  .ctaRow{margin-top:22px; display:flex; gap:16px; justify-content:center; flex-wrap:wrap}
  .pill{padding:10px 16px; border-radius:999px; font-size:16px; font-weight:700; color:var(--gold); background:rgba(255,255,255,.1); box-shadow:0 0 20px rgba(255,209,102,.3); animation:pulse 2s infinite alternate}
  @keyframes pulse{from{transform:scale(1)}to{transform:scale(1.1)}}
  footer{padding:16px clamp(16px,3vw,36px); color:#90a4b8; font-size:12px; text-align:center; opacity:.9}

  canvas#fx{position:fixed; inset:0; z-index:-1}
  .confetti{position:fixed; top:-10vh; left:0; width:100%; height:1px; pointer-events:none; z-index:50}
  .confetti i{position:absolute; top:0; width:10px; height:16px; transform:translateY(-100%); opacity:0}

  /* ç”»é¢ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ & ãƒ´ã‚£ãƒãƒƒãƒˆ */
  .flash{position:fixed; inset:0; pointer-events:none; background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.75), rgba(255,255,255,0) 60%); opacity:0; transition:opacity .35s ease; z-index:40}
  .vignette{position:fixed; inset:0; pointer-events:none; box-shadow:inset 0 0 160px rgba(0,0,0,.5); z-index:5}

  .heart{position:fixed; width:12px; height:12px; pointer-events:none; transform:translate(-50%,-50%)}
  .heart::before{content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 30%, #fff, #fff0 40%),radial-gradient(circle at 70% 70%, #fff, #fff0 40%); filter:drop-shadow(0 0 8px rgba(255,255,255,.5)); clip-path:polygon(50% 0%,61% 9%,70% 20%,75% 33%,76% 48%,70% 61%,61% 73%,50% 83%,39% 73%,30% 61%,24% 48%,25% 33%,30% 20%,39% 9%)}

  @media (prefers-reduced-motion: reduce){
    .name{animation:none}
    .pill{animation:none}
  }
</style>
</head>
<body>
<canvas id="fx"></canvas>
<div class="vignette" aria-hidden="true"></div>
<div class="flash" id="flash" aria-hidden="true"></div>
<div class="confetti" aria-hidden="true"></div>
<div class="wrap">
  <header>
    <div class="brand"><div class="logo"></div><h1>ENGAGEMENT CELEBRATION</h1></div>
    <div class="controls">
      <button id="fireBtn">ğŸ”¥ ç››å¤§ã«ç¥ç ²ï¼</button>
      <button id="confettiBtn">ğŸ‰ èˆã„è¸Šã‚‹ç¥ç¦ï¼</button>
    </div>
  </header>
  <main>
    <section class="hero" aria-live="polite">
      <div class="line1">ã”å©šç´„ã€</div>
      <div class="name" id="name">å²¡ç”°ã•ã‚“ã€<span style="white-space:nowrap">ãŠã‚ã§ã¨ã†ï¼</span></div>
      <div class="line2"><span id="typer" class="typer"></span></div>
      <div class="ctaRow">
        <span class="pill">ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ—ã§èŠ±ç«ï¼</span>
        <span class="pill">ã€Œç¥ç ²ã€ã§å¤œç©ºã‚’ç„¦ãŒã™ï¼</span>
        <span class="pill">ã€Œèˆã„è¸Šã‚‹ç¥ç¦ï¼ã€ã§ä¸–ç•ŒãŒç…Œã‚ãï¼</span>
      </div>
    </section>
  </main>
  <footer>
    <small>GitHub Pageså¯¾å¿œï¼šå®‰å…¨ãªæ¼”å‡ºã®ã¿æœ‰åŠ¹åŒ–</small>
  </footer>
</div>
<script>
window.addEventListener('DOMContentLoaded', () => {
  // ===== ãƒ†ã‚­ã‚¹ãƒˆæ¼”å‡º =====
  const TARGET_NAME='å²¡ç”°ã•ã‚“';
  const messages=[
    'ã”å©šç´„ã€å¿ƒã‹ã‚‰ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚',
    'å¤œç©ºã«å’²ãç¥ç ²ã®å…‰ãŒã€äºŒäººã®æœªæ¥ã‚’ç…§ã‚‰ã—ã¾ã™ã€‚',
    'ã“ã®ç¬é–“ã€ä¸–ç•ŒãŒæ­“å£°ã§åŒ…ã¾ã‚Œã‚‹ï¼',
    'æ°¸é ã«ç¶šãæ„›ã®èŠ±ç«ã‚’ã€å¿ƒã‚’è¾¼ã‚ã¦ã€‚'
  ];
  const typer=document.getElementById('typer');
  let msgIndex=0,charIndex=0,typing;
  function typeNext(){const t=messages[msgIndex];typer.textContent=t.slice(0,++charIndex);if(charIndex<=t.length){typing=setTimeout(typeNext,38);}else{setTimeout(()=>{charIndex=0;msgIndex=(msgIndex+1)%messages.length;typeErase();},1800);}}
  function typeErase(){const t=messages[(msgIndex-1+messages.length)%messages.length];if(charIndex>=0){typer.textContent=t.slice(0,charIndex--);setTimeout(typeErase,18);}else{typeNext();}}

  // ===== èŠ±ç«ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆDPRåº§æ¨™ç³»ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«éä½¿ç”¨ï¼‰ =====
  const cvs=document.getElementById('fx');
  const ctx=cvs.getContext('2d');
  let W,H,DPR;
  function resize(){
    DPR=Math.min(Math.max(window.devicePixelRatio||1,1),2);
    W=cvs.width=Math.floor(innerWidth*DPR);
    H=cvs.height=Math.floor(innerHeight*DPR);
    cvs.style.width=innerWidth+'px';
    cvs.style.height=innerHeight+'px';
  }
  window.addEventListener('resize',resize,{passive:true});
  resize();

  const GRAV=.07, FRICTION=.985; const particles=[], rockets=[];
  const flashEl=document.getElementById('flash');
  function rand(a,b){return Math.random()*(b-a)+a}
  function hsv(h,s,v){let f=(n,k=(n+h/60)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0);return`rgb(${f(5)*255|0},${f(3)*255|0},${f(1)*255|0})`}

  class Particle{constructor(x,y,col){this.x=x;this.y=y;this.vx=rand(-3,3);this.vy=rand(-5,2);this.life=rand(60,100);this.color=col;this.size=rand(1.2,2.4)} step(){this.vx*=FRICTION;this.vy=this.vy*FRICTION+GRAV;this.x+=this.vx;this.y+=this.vy;this.life--} draw(){ctx.fillStyle=this.color;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,6.283);ctx.fill()}}
  class Rocket{constructor(x,y){this.x=x;this.y=y;this.vx=rand(-1.6,1.6);this.vy=rand(-11,-8);this.hue=rand(0,360);this.exploded=false} step(){this.x+=this.vx;this.vy+=.12;this.y+=this.vy; if(this.vy>-1&&!this.exploded){this.explode()}} explode(){this.exploded=true;const col=hsv(this.hue,.9,1);for(let i=0;i<220;i++){const p=new Particle(this.x,this.y,col);const ang=rand(0,Math.PI*2);const sp=rand(1,8.5);p.vx=Math.cos(ang)*sp;p.vy=Math.sin(ang)*sp;particles.push(p)}}}

  function launch(x,y){rockets.push(new Rocket(x,y))}
  function burst(n=6){
    // ç¥ç ²ã®ç¬é–“ã«ãƒ•ãƒ©ãƒƒã‚·ãƒ¥
    flashEl.style.opacity=.9; requestAnimationFrame(()=>flashEl.style.opacity=0);
    for(let i=0;i<n;i++){launch(rand(0,W),H)}
  }

  // ===== å¸¸æ™‚ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èŠ±ç«ï¼ˆãƒªã‚ºãƒ å¤‰èª¿ï¼‰ =====
  let lastBg=0; const BG_MIN=900, BG_MAX=2200; let nextBg=Date.now()+rand(BG_MIN,BG_MAX);
  function backgroundFireworks(now){
    if(now>nextBg){
      // 1ã€œ3é€£ã®å°ã€œä¸­è¦æ¨¡ãƒãƒ¼ã‚¹ãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ é…ç½®
      const waves=(Math.random()<.3)?3:(Math.random()<.6?2:1);
      for(let w=0; w<waves; w++) setTimeout(()=>{for(let i=0;i<rand(3,7)|0;i++){launch(rand(0,W),H)}}, w*160);
      nextBg = now + rand(BG_MIN,BG_MAX) * (Math.random()<.2? .5:1); // ãŸã¾ã«æ—©æ‰“ã¡
    }
  }

  // ===== ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ— =====
  function loop(){
    ctx.clearRect(0,0,W,H);
    // æ˜Ÿå±‘
    ctx.fillStyle='rgba(255,255,255,.06)';
    for(let i=0;i<60;i++){const x=(i*187%W)|0, y=(i*263%H)|0; ctx.fillRect(x,y,1,1)}
    // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
    for(let i=particles.length-1;i>=0;i--){const p=particles[i]; p.step(); p.draw(); if(p.life<0) particles.splice(i,1)}
    for(let i=rockets.length-1;i>=0;i--){const r=rockets[i]; r.step(); if(r.exploded || r.y>H+40) rockets.splice(i,1)}
    backgroundFireworks(performance.now());
    requestAnimationFrame(loop)
  }
  loop();

  // åºç›¤ã®ç››ã‚Šä¸ŠãŒã‚Š
  setTimeout(()=>burst(8),700);
  setTimeout(()=>burst(10),1700);
  setTimeout(()=>burst(12),2800);

  // ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ—ç¥ç ²ï¼ˆDPRåº§æ¨™ç³»ã«åˆã‚ã›ã¦è£œæ­£ï¼‰
  addEventListener('pointerdown',e=>{const x=(e.clientX||innerWidth/2)*DPR, y=(e.clientY||innerHeight)*DPR; launch(x,y); heartTrail(e.clientX,e.clientY)});

  // ç´™å¹é›ª
  const confettiHost=document.querySelector('.confetti');
  function shootConfetti(count=380){
    for(let i=0;i<count;i++){
      const el=document.createElement('i'); const hue=Math.floor(Math.random()*360);
      el.style.background=hsv(hue,.8,1); el.style.left=Math.random()*100+'%'; el.style.opacity='1'; el.style.transform=`translateY(-100%) rotate(${Math.random()*360}deg)`;
      const fall=el.animate([
        {transform:`translateY(-100%) rotate(0deg)`,opacity:1},
        {transform:`translateY(${innerHeight+200}px) rotate(${720+Math.random()*720}deg)`,opacity:Math.random()*.6+.2}
      ],{duration:2500+Math.random()*1500,easing:'cubic-bezier(.2,.7,0,1)'});
      confettiHost.appendChild(el); fall.finished.then(()=>el.remove());
    }
  }

  // ãƒãƒ¼ãƒˆãƒˆãƒ¬ã‚¤ãƒ«
  function heartTrail(x,y){
    for(let i=0;i<10;i++){
      const h=document.createElement('div'); h.className='heart'; h.style.left=x+'px'; h.style.top=y+'px'; document.body.appendChild(h);
      h.animate([
        {transform:'translate(-50%,-50%) scale(.9)',opacity:1,filter:'hue-rotate(0deg)'},
        {transform:`translate(${(Math.random()*80-40)}px,${-60-Math.random()*60}px) scale(0)`,opacity:0,filter:'hue-rotate(120deg)'}
      ],{duration:900+Math.random()*400,easing:'ease-out'}).finished.then(()=>h.remove());
    }
  }

  // ãƒœã‚¿ãƒ³æ“ä½œï¼ˆãƒã‚°ä¿®æ­£æ¸ˆï¼šDPRåº§æ¨™ / ç™ºç«å¼·åŒ–ï¼‰
  const fireBtn=document.getElementById('fireBtn');
  const confettiBtn=document.getElementById('confettiBtn');
  fireBtn.addEventListener('click',()=>{ burst(18); shootConfetti(160); });
  confettiBtn.addEventListener('click',()=>{ shootConfetti(420); burst(10); });

  // åˆæœŸåŒ–
  document.getElementById('name').firstChild.nodeValue = TARGET_NAME + 'ã€';
  typeNext();

  // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã‚‚ç¥ç ²
  window.addEventListener('keydown',e=>{ if(['Enter',' '].includes(e.key)){ burst(9); shootConfetti(260); }});
});
</script>
</body>
</html>